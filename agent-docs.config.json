{
  "$schema": "./agent-docs.schema.json",
  "projectName": "Savvy Funnel Analytics Dashboard",
  "techStack": {
    "framework": "Next.js 14 (App Router)",
    "language": "TypeScript"
  },
  "docsDir": "docs/",
  "generatedDir": "docs/_generated/",
  "architectureFile": "docs/ARCHITECTURE.md",
  "agentConfigFile": ".cursorrules",
  "additionalAgentConfigs": [],
  "autoFix": {
    "generators": true,
    "narrative": {
      "enabled": true,
      "engine": "claude-code",
      "review": true,
      "narrativeTriggers": [
        "api-routes",
        "prisma",
        "env",
        "auth",
        "permissions"
      ],
      "additionalNarrativeTargets": [
        "README.md"
      ]
    }
  },
  "scanPaths": {
    "apiRoutes": "src/app/api/",
    "pageRoutes": "src/app/",
    "prismaSchema": "prisma/schema.prisma",
    "envFile": ".env.example",
    "sourceDir": "src/"
  },
  "categories": [
    {
      "id": "prisma",
      "name": "Prisma Schema",
      "emoji": "üóÑÔ∏è",
      "filePattern": "prisma/schema.prisma",
      "patternType": "exact",
      "docTarget": "Section 2 (Data Layer / Database Models)",
      "genCommand": "npm run gen:models"
    },
    {
      "id": "env",
      "name": "Environment Variables",
      "emoji": "üîë",
      "filePattern": ".env.example",
      "patternType": "exact",
      "docTarget": "Section 10 (Deployment & Operations / env vars)",
      "genCommand": "npm run gen:env"
    },
    {
      "id": "permissions",
      "name": "Permissions / Roles",
      "emoji": "üîê",
      "filePattern": "src/lib/permissions.ts",
      "patternType": "exact",
      "docTarget": "Section 5 (Authentication & Permissions / Role Hierarchy)",
      "genCommand": null
    },
    {
      "id": "config",
      "name": "Config Constants",
      "emoji": "‚öôÔ∏è",
      "filePattern": "src/config/constants.ts",
      "patternType": "exact",
      "docTarget": "Relevant section referencing these constants",
      "genCommand": null
    },
    {
      "id": "semantic-layer",
      "name": "Semantic Layer",
      "emoji": "üß†",
      "filePattern": "src/lib/semantic-layer/",
      "patternType": "startsWith",
      "docTarget": "Section 9 (Self-Serve Analytics / Semantic Layer)",
      "genCommand": null
    },
    {
      "id": "auth",
      "name": "Auth Logic",
      "emoji": "üîí",
      "filePattern": "src/app/api/auth/",
      "patternType": "startsWith",
      "docTarget": "Section 5 (Authentication)",
      "genCommand": "npm run gen:api-routes"
    },
    {
      "id": "api-routes",
      "name": "API Routes",
      "emoji": "üì°",
      "filePattern": "^src/app/api/.+/route\\.ts$",
      "patternType": "regex",
      "docTarget": "Relevant feature section in docs/ARCHITECTURE.md",
      "genCommand": "npm run gen:api-routes"
    },
    {
      "id": "page-routes",
      "name": "Page Routes",
      "emoji": "üìÑ",
      "filePattern": "^src/app/.+/page\\.tsx$",
      "patternType": "regex",
      "docTarget": "Section 5 (Page Access Control)",
      "genCommand": null
    }
  ],
  "baselines": {
    "largeFileThreshold": 500,
    "largeFileCount": 26,
    "todoCount": 4,
    "highVulnCount": 8,
    "deadExportCount": 91
  },
  "workflows": {
    "docsAudit": {
      "enabled": true,
      "triggerPaths": [
        "src/app/api/**",
        "src/app/*/page.tsx",
        "src/app/dashboard/*/page.tsx",
        "prisma/schema.prisma",
        ".env.example",
        "src/lib/permissions.ts",
        "src/lib/semantic-layer/**",
        "src/config/constants.ts",
        "src/app/api/auth/**"
      ]
    },
    "refactorAudit": {
      "enabled": false
    }
  },
  "integrations": {
    "github": {
      "issueLabels": {
        "docsAudit": [
          "documentation",
          "automated-audit"
        ],
        "refactorAudit": [
          "refactoring",
          "automated-audit"
        ]
      }
    }
  },
  "envCategories": [
    {
      "prefix": "NEXTAUTH_",
      "category": "Auth (NextAuth)"
    },
    {
      "prefix": "GOOGLE_CLIENT_",
      "category": "Auth (Google OAuth)"
    },
    {
      "prefix": "DATABASE_",
      "category": "Database"
    },
    {
      "prefix": "GCP_",
      "category": "BigQuery / GCP"
    },
    {
      "prefix": "GOOGLE_APPLICATION_",
      "category": "BigQuery / GCP"
    },
    {
      "prefix": "GOOGLE_SHEETS_",
      "category": "Google Sheets Export"
    },
    {
      "prefix": "GC_",
      "category": "GC Hub (Google Sheets IDs)"
    },
    {
      "prefix": "ANTHROPIC_",
      "category": "AI (Anthropic)"
    },
    {
      "prefix": "CRON_",
      "category": "Cron Jobs"
    },
    {
      "prefix": "SENDGRID_",
      "category": "Email (SendGrid)"
    },
    {
      "prefix": "EMAIL_",
      "category": "Email (SendGrid)"
    },
    {
      "prefix": "UPSTASH_",
      "category": "Rate Limiting (Upstash)"
    },
    {
      "prefix": "SENTRY_",
      "category": "Error Monitoring (Sentry)"
    },
    {
      "prefix": "NEXT_PUBLIC_SENTRY_",
      "category": "Error Monitoring (Sentry)"
    },
    {
      "prefix": "WRIKE_",
      "category": "Wrike Integration"
    },
    {
      "prefix": "METABASE_",
      "category": "Metabase (Chart Builder)"
    },
    {
      "prefix": "NEXT_PUBLIC_METABASE_",
      "category": "Metabase (Chart Builder)"
    },
    {
      "prefix": "NEXT_PUBLIC_",
      "category": "Next.js Public"
    }
  ]
}
