# =============================================================================
# Savvy Funnel Analytics Dashboard - Environment Variables
# =============================================================================
# Copy this file to .env and fill in your actual values
# Never commit .env to git (it's in .gitignore)

# =============================================================================
# NextAuth Configuration
# =============================================================================
# Required for authentication
NEXTAUTH_SECRET=your-nextauth-secret-here-generate-with-openssl-rand-base64-32
NEXTAUTH_URL=http://localhost:3000

# =============================================================================
# Database Connection (PostgreSQL/Neon)
# =============================================================================
# Primary database connection string (required)
# For Neon: Use the pooled connection URL (with -pooler in hostname)
# Example: postgresql://user:password@ep-name-pooler.region.aws.neon.tech:5432/dbname?sslmode=require
DATABASE_URL=postgresql://user:password@host:port/database?sslmode=require

# For Neon Local Development (Optional):
# Use direct connection URL (without pooler) for local dev to avoid connection issues
# Get this from Neon dashboard: Connection String > Direct connection
# DIRECT_URL=postgresql://user:password@ep-name.region.aws.neon.tech:5432/dbname?sslmode=require

# Alternative: Use individual connection parameters
# PGHOST=your-postgres-host-pooler
# PGHOST_UNPOOLED=your-postgres-host
# PGUSER=your-postgres-user
# PGDATABASE=your-postgres-database
# PGPASSWORD=your-postgres-password

# Vercel Postgres Template Variables (alternative format)
# POSTGRES_URL=postgresql://user:password@host:port/database?sslmode=require
# POSTGRES_URL_NON_POOLING=postgresql://user:password@host:port/database?sslmode=require
# POSTGRES_USER=your-postgres-user
# POSTGRES_HOST=your-postgres-host-pooler
# POSTGRES_PASSWORD=your-postgres-password
# POSTGRES_DATABASE=your-postgres-database
# POSTGRES_PRISMA_URL=postgresql://user:password@host:port/database?connect_timeout=15&sslmode=require

# =============================================================================
# BigQuery Connection Settings
# =============================================================================
# Your GCP Project ID (optional, defaults to 'savvy-gtm-analytics')
GCP_PROJECT_ID=savvy-gtm-analytics

# Option 1: For LOCAL DEVELOPMENT - Path to service account JSON key file
GOOGLE_APPLICATION_CREDENTIALS=./service-account-key.json

# Option 2: For VERCEL DEPLOYMENT - JSON credentials as environment variable
# IMPORTANT: This should be a single-line JSON string (no newlines)
# GOOGLE_APPLICATION_CREDENTIALS_JSON={"type":"service_account","project_id":"savvy-gtm-analytics","private_key_id":"...","private_key":"-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n","client_email":"...","client_id":"...","auth_uri":"https://accounts.google.com/o/oauth2/auth","token_uri":"https://oauth2.googleapis.com/token","auth_provider_x509_cert_url":"https://www.googleapis.com/oauth2/v1/certs","client_x509_cert_url":"..."}

# =============================================================================
# Google Sheets Export (Optional)
# =============================================================================
# Google Apps Script Web App URL for creating sheets
GOOGLE_SHEETS_WEBAPP_URL=https://script.google.com/macros/s/YOUR_SCRIPT_ID/exec

# Option 1: For VERCEL DEPLOYMENT - JSON credentials as environment variable
# GOOGLE_SHEETS_CREDENTIALS_JSON={"type":"service_account","project_id":"...","private_key":"...","client_email":"..."}

# Option 2: For LOCAL DEVELOPMENT - Path to service account JSON key file
# GOOGLE_SHEETS_SERVICE_ACCOUNT_PATH=./google-sheets-service-account.json

# =============================================================================
# Anthropic AI (Claude) API - For Explore Feature
# =============================================================================
# Required for the self-service analytics explore feature
# Get your API key from https://console.anthropic.com/
ANTHROPIC_API_KEY=sk-ant-api03-...

# =============================================================================
# Optional: Neon Auth (if using Neon database)
# =============================================================================
# NEXT_PUBLIC_STACK_PROJECT_ID=your-stack-project-id
# NEXT_PUBLIC_STACK_PUBLISHABLE_CLIENT_KEY=your-stack-publishable-client-key
# STACK_SECRET_SERVER_KEY=your-stack-secret-server-key

# =============================================================================

# =============================================================================
# Vercel Cron Jobs - Cache Invalidation
# =============================================================================
# Secret for authenticating cron job requests from Vercel
# Required for /api/cron/refresh-cache endpoint
# Generate a random secret (32+ characters recommended)
# For production: Set this in Vercel dashboard under Settings > Environment Variables
# For local testing: Add to your .env file with a test value
CRON_SECRET=your-cron-secret-here-generate-random-32-char-string

# =============================================================================
# Notes
# =============================================================================
# - VERCEL_URL and VERCEL_BRANCH_URL are automatically set by Vercel (don't set manually)
# - NODE_ENV is automatically set by Next.js (don't set manually)
# - For production deployments on Vercel, set all values in Vercel dashboard under Settings > Environment Variables
# - For local development, copy this file to .env and fill in your values

# =============================================================================
# Sentry Error Monitoring
# =============================================================================
# Sentry DSN for error tracking (configured in Vercel environment variables)
SENTRY_DSN=your-sentry-dsn-here`nNEXT_PUBLIC_SENTRY_DSN=your-sentry-dsn-here
